<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Git Help</title>
    <link rel="stylesheet" href="../../stylesheets/styles.css">
    <link rel="stylesheet" href="../../stylesheets/github-dark.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/KevinEdwardBerry">View On GitHub</a></li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Git Help</h1>
          <p>git facepalm --fix</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/KevinEdwardBerry">KevinEdwardBerry</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h3>Eternal commitment</h3>

<p>I forgot the closing quote in my commit message: Breathe. Relax.
   Finish the message if needed. Then type the closing quote and press the
   <code>&lt;Enter&gt;</code> key a couple of times.
</p>

        <h3>Invisible Ink</h3>

<p>I made a typo in my last commit message: <code>git commit --amend</code> to
   bring up an editor or <code>git commit --amend -m</code> to simply re-try typing the
   whole message.
</p>
<p><strong>Note</strong>: This only works on the last commit and should <strong>only</strong>
   be done when it has not yet been shared (been fetched by other people). Normally shared
   means pushed to a remote repository, but in the work-flow at my current client I consider
   shared to be when the dev review starts. If you do this (or rebase or anything else that
   changes history) you would have to force push <strong>(DO NOT DO THIS)</strong>
   which would put other people out of sync in a really bad way.
</p>

        <h3>Sleight of hand</h3>

<p>I forgot something before I made the last commit: Do whatever it was that you forgot and
<code>git commit --amend</code> and save.
</p>
<p>
   Keep in mind the note above as the same thing applies about shared history.
</p>

        <h3>Going back in time (commit)</h3>

<p>I really do not want any of the junk I just commited: <code>git reset --hard HEAD~1</code>
   If you may want to keep changes for whatever reason (e.g. you might come back to this later),
   then either <code>git branch <em>possibly-later-branch-name</em></code> first, or
   <code>git reset --soft HEAD~1</code> and <code>git stash</code>
   (TODO: post on <code>git stash</code> later.)
</p>

        <h3>Going back in time (before rebase)</h3>

<p>I rebased against the wrong branch: <code>git reset --hard <em>branch-name</em>@{1}</code></p>
<p>This will move HEAD to where it was before you rebased. The number one in curly braces
   assumes you had a clean rebase and have not made any commits/changes yet. To be sure of
   what number it should be use <code>git reflog <em>branch-name</em></code>. You could
   alternatively use <code>git reflog</code> and find the HEAD number to go to with
   <code>git reset --hard HEAD@{4}</code>. Again the number four is an example assuming
   that is where the HEAD pointed to before you messed up.
</p>

        <h3>Re-write history</h3>

<p>I have not shared this and want to re-organize my commit history:
   <code>git log --pretty=one-line --abbrev-commit</code> (press 'q' to get back to the prompt)
   Find out how many commits you want to change (going with five for the following example)
   <code>git rebase --interactive HEAD~5</code>
</p>
<p>
   Now you have the option to re-order, edit, squash, etc. your commit history. <strong>Note:</strong>
   if you choose to edit a commit the rebase will pause for you to change things. Then you
   use <code>git rebase --continue</code> to proceed.
</p>
<p>
   Alternatively, you can use <code>git reset --soft HEAD~5</code> then
   <code>git add --interactive</code>, but this is for another post.
</p>

        <h3>Cold feet (merge)</h3>

<p>I have merge conflicts and am not ready to deal with them now: <code>git merge --abort</code></p>

        <h3>Cold feet (rebase)</h3>

<p>I have merge conflicts and am not ready to deal with them now: <code>git rebase --abort</code></p>

        <h3>Rabbit out of the hat (local branch)</h3>

<p>I deleted the wrong (local) branch: <code>git checkout -b <em>branche-name SHA</em></code></p>
<p>When you delete a local branch, git kindly displays the first part of the SHA that
   the deleted branch was pointing to. Also, <code>git reflog</code> can be used to find
   the first part of the SHA (if deleting it was not the last thing you did). <strong>Note:</strong>
   "the first part of the SHA" is the first seven (hexadecimal) digits, which is usually
   unique enough for git to know what commit you are referring to.
</p>

        <h3>Rabbit out of the hat (remote branch)</h3>

<p>I deleted the wrong (remote) branch: <code>git push origin <em>old-branch-name</em></code>
   to restore the remote branch to what it was, or
   <code>git push origin <em>branch-name-or-SHA</em>:<em>branch-name</em></code> will push
   any branch/commit to origin/<em>branch-name</em>.
</p>

      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
